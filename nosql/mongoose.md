# Mongoose
Mongoose(몽구스)란? 몽구스는 MongoDB ODM 중 하나이다. 여기서 **ODM** 이란? Object Document Mapping 의 약자인데 풀이해보면 객체(Object) 와 문서(Document)를 1대1로 매칭한다는 뜻이다. 즉 문서(Document)를 DB에서 조회할 때 자바스크립트 객체(Object)로 바꿔주는 역할이라고 생각하면 될 것 같다.

## Mongoose 장점
NoSQL은 테이블과 join이 없는 것을 활용하는 DB이지만 몽구스는 오히려 그 기능을 부활시켰다고 한다. DB에 도큐먼트를 넣을 때 값과 타입 그리고 필드를 검사하며 **populate** 를 이용하여 SQL join과 비슷한 기능을 한다. (아마 MongoDB를 사용하다보면 join 과 schema가 필요한 경우가 생겨서 이러한 기능들이 있는 것 같다.)

기본 MongoDB가 콜백 기반인데 몽구스는 편리하게 **프로미스**를 사용할 수 있게 해준다.

MongoDB의 쿼리를 작성할 떄 JSON 형식으로 작성하는데 몽구스가 제공하는 **쿼리 빌더**로 손쉽게 쿼리를 만들 수 있다. 

즉, Mongoose 의 장점을 정리하자면 다음과 같다.

- 강제 스키마(Schema)
- populate
- 프로미스와 콜백 사용 가능
- 편리한 쿼리 빌더

## Mongoose Schema
NoSQL을 사용하면 테이블이 없기 때문에 도큐먼트에 아무거나 넣어도 에러가 생기지 않는다. 에러가 발생하지 않아 편리할 수도 있지만 문제가 발생할 수 있다. 예를 들어 오타를 낸 데이터가 들어가거나, 같은 필드인데 다른 자료형일 경우 등 이러한 문제들을 막기 위해 몽구스는 Schema(스키마)를 도입했다.


몽구스는 작성한 스키마를 기준으로 데이터를 DB에 넣기 전에 검사를 한다. 즉, 정의된 스키마에 어긋나는 데이터가 들어가면 에러가 발생하여 위에 예시를 들었던 문제점들을 막을 수 있다. 뿐만 아니라 스키마를 설정할 때 기본값이나 인덱스까지 설정할 수 있다.